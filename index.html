<!doctype>
<html ng-app="PrismaticApp">
<head>
    <meta charset="UTF-8">
    <title>Prismatic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="apple-touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-iphone-retina.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-ipad-retina.png" />
    <link rel="stylesheet" href="components/jquery-mobile/jquery.mobile-1.3.2.min.css">
    <link rel="stylesheet" href="css/app.css">

    <script src="components/jquery/jquery-1.10.2.min.js"></script>
    <script src="components/jquery-mobile/jquery.mobile-1.3.2.min.js"></script>
    <script src="components/angular/angular.js"></script>
    <script src="js/app.js"></script>
</head>
<body>

    <div id="overview"
         data-role="page"
         data-theme="c"
         ng-controller="ListController">
        <ul data-role="listview">
            <li ng-repeat="article in articles">
                <a href=""
                   ng-click="showDetails(article)">
                    <h2>{{article.title}}</h2>
                    <p>{{article.text}}</p>
                    <ul class="topics">
                        <li ng-repeat="topic in article.topics"
                            ng-class="{'interested-in': isInterestedIn(article, topic)}">
                            {{topic}}
                        </li>
                    </ul>
                </a>
            </li>
        </ul>
        <a href=""
           data-role="button"
           data-theme="b"
           data-corners="false"
           ng-click="loadMore()"
           style="margin: 0px;">
            Load more articles
        </a>
    </div>
    
    <div id="summary"
         data-role="page"
         data-theme="c"
         ng-controller="DetailController">
        <a href=""
           data-role="button"
           data-theme="b"
           data-corners="false"
           ng-click="back()"
           style="margin-top: 0px;">
            Back to overview
        </a>
        <div style="margin: 10px;">
            <h2>{{article.title}}</h2>
            <p class="feed">
                <img ng-src="{{article.feed.image}}" alt="Feed icon">
                <a href="{{article.feed.url}}" target="_blank">
                    {{article.feed.title}}
                </a>
            </p>
            <span ng-show="article.author.name">by {{article.author.name}}</span>
            <p>{{article.text}}</p>
            <a href="{{article.url}}"
               target="_blank">
                {{article.url}}
            </a>
        </div>
        <a href=""
           data-role="button"
           data-theme="b"
           data-corners="false"
           ng-click="back()"
           style="margin-bottom: 0px;">
            Back to overview
        </a>
    </div>

    <div id="error"
         data-role="page"
         data-theme="b"
         data-close-btn="none">
        <div data-role="header" data-theme="d">
            <h1>Error</h1>
        </div>

        <div data-role="content" data-theme="c">
            <h1>Something went wrong</h1>
            <p>
                Article couldn't be retrieved. Are you logged into Prismatic?
            </p>
            <a href="http://getprismatic.com/createaccount?stealth=true"
               data-role="button"
               data-theme="b"
               target="_blank">
                To the Prismatic login
            </a>
            <a href="/"
               data-role="button"
               data-theme="c">
                Reload
            </a>  
        </div>
    </div>
</body>
</html>
